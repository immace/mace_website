:root {
  --accent: #A3C1D9;
  --accent-rgb: 163,193,217;
  --gap: 24px;
  --maxw: 1000px;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: 'Montserrat', sans-serif;
  background: #fff;
  color: #000;
}

.wrap { max-width: var(--maxw); margin: 0 auto; padding: 0 14px; }

/* ===== Header ===== */
header {
  position: fixed;
  top: 0; left: 0; right: 0;
  background: #fff;
  border-bottom: 1px solid #eee;
  opacity: 0; pointer-events: none;
  transition: opacity .3s; z-index: 1000;
}
header.visible { opacity: 1; pointer-events: auto; }

.header-content {
  display: flex; justify-content: center; align-items: center;
  padding: 12px 0;
}

#header-name { font-size: clamp(28px, 6vw, 72px); line-height: .96; font-weight: 100; }

/* ===== Hero ===== */
.hero { padding: 10vh 0 7vh; }

.portfolio-name { text-align: center; margin: 0; }
.portfolio-name img { display: block; width: 85%; height: auto; margin: 0 auto; }

h1 { font-size: clamp(28px, 6vw, 72px); margin: 0; line-height: .96; font-weight: 700; }
.hero-title { display: flex; flex-direction: column; }
#name { display: block; font-weight: 100; }

.role-wrapper {
  display: block; overflow: hidden; line-height: 1.2em; height: 1.2em;
  position: relative; font-weight: 700;
}
.role-wrapper span { position: absolute; left: 0; top: 0; width: 100%; white-space: nowrap; }
#role { display: block; }

.accent { width: 60px; height: 8px; background: var(--accent); margin-top: 16px; }

section { padding: 7vh 0; }
section#portfolio.posts { padding: 3.5vh 0 7vh; }

/* Animations for role */
.dud { color: #aaa; }
.slide-in  { animation: slide-in .5s forwards; }
.slide-out { animation: slide-out .5s forwards; }
@keyframes slide-in  { from{ transform: translateY(100%);} to{ transform: translateY(0);} }
@keyframes slide-out { from{ transform: translateY(0);} to{ transform: translateY(-100%);} }

/* ===== Posts ===== */
.posts { display: flex; flex-direction: column; gap: var(--gap); }
.post  { display: flex; flex-direction: column; }

.post-title{
  display:inline-block; margin:8px 0 0; font-style:italic; font-weight:500; line-height:1.1;
  text-decoration: underline var(--accent) .16em; text-underline-offset:.28em;
}

.post-description{ margin:8px 0 0; font-size:16px; color:#555; font-weight:500; }
.post-description .post-name{ font-weight:600; color:#000; }
.post-desc{ font-weight:300; color:#555; }

@media (min-width:1024px){
  .post-title{ font-size:32px; }
  .post-description{ font-size:20px; }
}

img{ width:100%; height:auto; display:block; }

/* ===== Carousel (base) ===== */
.carousel{
  position: relative;
  overflow: hidden;
  width: 100vw;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
}
.carousel-track{ display:flex; align-items:stretch; gap:0; will-change:transform; }
.carousel-track img{ width:100%; flex-shrink:0; }

/* ===== Desktop ===== */
@media (min-width:769px){
  .post .carousel{ display:none; }
  .post.is-first .carousel{ display:block; height:40vh; }
  .post.is-first .carousel-track{ height:100%; align-items:center; }
  .post.is-first .carousel-track img{ height:100%; width:auto; object-fit:contain; }

  .post:not(.is-first) .post-body{
    display:grid; grid-template-columns:1fr 1fr; gap:var(--gap);
    align-items:start; padding:0 14px;
  }
  .post:not(.is-first) .post-cover{
    width:100%; object-fit:contain; border-radius:10px;
    box-shadow:0 14px 34px rgba(var(--accent-rgb), .22);
  }
  .post:not(.is-first) .post-right{ display:grid; grid-template-rows:auto auto; row-gap:var(--gap); }
  .post:not(.is-first) .post-thumbs{ display:grid; grid-template-columns:repeat(3,1fr); gap:8px; }
  .post:not(.is-first) .post-thumbs img{ border-radius:8px; }
  .post:not(.is-first) .post-meta{ text-align:right; align-self:end; }

  .post-meta-under{ display:none !important; }
}

/* ===== Mobile ===== */
@media (max-width:768px){
  /* центрируем по сетке контейнера, без «ухода» за края */
  .carousel{
    padding: 0 14px;   /* было 0 */
  }

  /* кадр: без рамки, со скруглением и мягкой тенью акцентного цвета */
  .carousel-track img{
    border: none;                 /* убрали «рамку» */
    border-radius: 16px;          /* скругления */
    box-shadow:
      0 10px 28px rgba(var(--accent-rgb), .22),
      0 2px 8px rgba(0,0,0,.06);  /* мягкая акцентная тень + чуть-чуть глубины */
  }
  .carousel-indicators{
    position: sticky;     /* ключ: "прилипшие" к вьюпорту скролл-контейнера */
    left: 0;              /* фиксируем относительно .carousel при горизонтальном скролле */
    right: 0;  
    bottom: 12px;
    width: 100%;
    display: flex;
    justify-content: center;
    gap: 8px;
    z-index: 20;
    pointer-events: none; /* не мешают свайпу */
  }

  .carousel-indicators span{
    width: 6px; height: 6px; border-radius: 50%;
    background: rgba(163,193,217,.75);
    /* аккуратная белая "священка" без обводки */
    box-shadow: 0 0 6px rgba(255,255,255,.95), 0 2px 4px rgba(0,0,0,.08);
  }

  .carousel-indicators span.active{
    width: 8px; height: 8px;
    background: var(--accent);
    box-shadow: 0 0 8px rgba(255,255,255,.95), 0 3px 6px rgba(0,0,0,.12);
  }

  .post .post-body, .post .post-left, .post .post-right{ display:none; }
  .post.is-first > .post-title{ display:none; }

  .post-meta-under{
    display:grid; grid-template-columns:auto 1fr;
    gap:6px 14px; align-items:baseline;
    padding:10px 14px 0;       /* совпадает с .wrap */
  }
  .post-meta-under .post-title{
    margin:0; font-size:16px; line-height:1.2;
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  }
  .post-meta-under .post-description{
    margin:0; font-size:13px; line-height:1.2;
    white-space:nowrap; overflow:hidden; text-overflow:ellipsis; text-align:right;
  }
}

/* ===== Contacts ===== */
.contacts{ padding:0 14px 56px; }

/* Desktop — «дыхание» */
.social-bubbles{
  position:relative; height:160px; margin:40px auto; max-width:var(--maxw);
}
.bubble-wrap{ position:absolute; top:50%; transform:translate(-50%,-50%); }
.bubble{
   --size:76px;
  width:var(--size); height:var(--size);
  border-radius:50%; background:#fff; display:grid; place-items:center;
  animation: bubble-float 3.8s ease-in-out infinite alternate; /* быстрее */
}
.bubble img{ width:30px; height:30px; }
.social-bubbles > .bubble-wrap:nth-child(1) .bubble{ animation-duration:4.6s; animation-delay:0s; }
.social-bubbles > .bubble-wrap:nth-child(2) .bubble{ animation-duration:3.5s; animation-delay:.15s; }
.social-bubbles > .bubble-wrap:nth-child(3) .bubble{ animation-duration:5.2s; animation-delay:.3s; }

@keyframes bubble-float{
  0%   { transform: translateY(0) rotate(0deg) scale(1); }
  50%  { transform: translateY(-10px) rotate(1.5deg) scale(1.015); }
  100% { transform: translateY(6px) rotate(-1.2deg) scale(0.995); }
}

/* Mobile — пузыри в ряд, с тем же «дыханием» */
@media (max-width:768px){
  .social-bubbles{
    position: static; display:flex; justify-content:center; align-items:center;
    gap:16px; height:auto; margin:28px auto 56px;
  }
  .bubble-wrap{ position: static; transform:none; }
}

/* ===== Footer ===== */
footer{ border-top:1px solid #eee; padding:14px 0; color:#777; font-size:14px; }
#footer-name{ font-weight:100; }
